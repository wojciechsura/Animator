<Grid x:Class="Animator.Designer.Controls.PropertyPopup"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Animator.Designer.Controls"
      xmlns:res="clr-namespace:Animator.Designer.Resources.Controls.PropertyPopup;assembly=Animator.Designer.Resources"
      mc:Ignorable="d" 
      Width="16" Height="16" x:Name="Root">
    <Grid.Resources>
        <Thickness x:Key="PopupItemMargin">4</Thickness>
    </Grid.Resources>
    <ToggleButton x:Name="PopupOpen" Content="..." IsChecked="{Binding ElementName=Popup, Path=IsOpen, Mode=TwoWay}" />
    <Popup x:Name="Popup" PlacementTarget="{Binding ElementName=PopupOpen}" Placement="Right" StaysOpen="False">
        <Border Background="White" BorderBrush="{x:Static SystemColors.ActiveBorderBrush}" BorderThickness="1">
            <StackPanel Orientation="Vertical">
                <Label HorizontalAlignment="Center" Content="{Binding Name}" FontWeight="Bold" Margin="4,4,0,4"/>

                <Border HorizontalAlignment="Stretch" Height="1" BorderThickness="0" Background="#000000" Margin="4" />

                <Button Visibility="{Binding ElementName=Root, Path=ShowSetToDefault, Converter={StaticResource BoolToVisibilityConverter}}" 
                        IsEnabled="{Binding ElementName=Root, Path=EnableSetToDefault}"
                        Background="#40808080" Margin="{StaticResource PopupItemMargin}" Content="{x:Static res:Strings.SwitchToDefault}" />
            </StackPanel>
        </Border>
    </Popup>
</Grid>
